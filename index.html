<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>‚ö°BBET Filter v4.5 ‚Äî –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∏—Ä–∞–∂–µ–π</title>
<style>
body{background:#0d1117;color:#f0f6fc;font-family:Arial,Helvetica,sans-serif;margin:0;padding:20px;text-align:center}
h1{color:#58a6ff;font-size:1.4em;margin-bottom:15px}
textarea{width:90%;max-width:600px;height:120px;background:#161b22;border:1px solid #30363d;color:#c9d1d9;padding:10px;border-radius:6px;font-size:14px}
button{background:#238636;color:#fff;border:none;border-radius:6px;padding:10px 16px;font-size:15px;margin:6px;cursor:pointer}
button:hover{background:#2ea043}
select{background:#161b22;color:#fff;border:1px solid #30363d;border-radius:6px;padding:5px 10px}
#result{margin-top:20px;white-space:pre-wrap;text-align:left;max-width:600px;margin-left:auto;margin-right:auto;padding:10px;border-radius:6px;background:#161b22;border:1px solid #30363d}
</style>
</head>
<body>
<h1>‚ö° BBET Filter v4.5 ‚Äî –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∏—Ä–∞–∂–µ–π –∏ –∫—É–ø–æ–Ω–æ–≤</h1>
<textarea id="input" placeholder="–í—Å—Ç–∞–≤—å HTML —Ç–∞–±–ª–∏—Ü—É Totobrief –∏–ª–∏ CSV –¥–∞–Ω–Ω—ã–µ:"></textarea><br>
<label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è:
<select id="category">
<option value="9">9</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13" selected>13</option>
<option value="14">14</option>
<option value="15">15</option>
</select></label><br>
<button onclick="generate()">üìä –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫—É–ø–æ–Ω—ã</button>
<button onclick="copyResult()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<button onclick="exportCSV()">‚¨áÔ∏è –≠–∫—Å–ø–æ—Ä—Ç CSV</button>
<div id="result">–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...</div>

<script>
function parseInput(text){
 let rows=text.trim().split(/\n/).map(r=>r.split(/\t|;/));
 return rows.filter(r=>r.length>=6);
}

function generate(){
 let txt=document.getElementById('input').value.trim();
 if(!txt){alert('–í—Å—Ç–∞–≤—å –¥–∞–Ω–Ω—ã–µ Totobrief –∏–ª–∏ CSV');return;}
 let data=parseInput(txt);
 let cat=parseInt(document.getElementById('category').value);
 let basePrice=30;
 let variants=Math.pow(2,15-cat);
 let total=basePrice*variants;
 let res="–ö–∞—Ç–µ–≥–æ—Ä–∏—è "+cat+" (–∫—É–ø–æ–Ω–æ–≤: "+variants+", –æ–±—â–∞—è —Å—É–º–º–∞: "+total+" ‚ÇΩ)\n\n";
 res+=data.map((r,i)=>`${i+1}. ${r[1]} vs ${r[2]} ‚Äî 1:${r[3]} X:${r[4]} 2:${r[5]}`).join("\n");
 document.getElementById('result').innerText=res;
}

function copyResult(){
 let text=document.getElementById('result').innerText;
 navigator.clipboard.writeText(text);
 alert("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!");
}

function exportCSV(){
 let text=document.getElementById('result').innerText;
 let blob=new Blob([text],{type:"text/csv;charset=utf-8;"});
 let url=URL.createObjectURL(blob);
 let a=document.createElement("a");
 a.href=url;a.download="bbet_filter.csv";a.click();
 URL.revokeObjectURL(url);
}
</script>
</body>
</html>
